<ion-view cache-view="false" view-title="{{tabOwner}}'s {{tabLocation}} Bill">
  <ion-content class="body">
    <div>
      <div class="item item-input-inset">
          <button class="button primary-cta ion-chevron-left" on-tap="bill.routeToOpenTabs()"> All Tabs</button>
          <div class="col col-15"></div>
          <div>
            Employee {{bill.tabOwner}}'s Bill
          </div>
      </div>
      <label class="item item-input item-floating-label">
          <input id="scaninput" type="text" ng-model="scanneditem" ng-enter="bill.addItemToTab()" autofocus placeholder="Enter SKU"/>
      </label>
    </div>
    <ion-item class="item item-divider">
      <div class="row">
        <div class="col col-15">Qty</div>
        <div class="col col-60">Item Name</div>
        <div class="col col-25">Retail</div>
      </div>
    </ion-item>
    <ion-list can-swipe="true">
      <ion-item ng-repeat="tabItem in bill.tabItemList" ng-init='bill.getCigarName(tabItem)' type="item-text-wrap">
        <div class="row">
          <div class="col col-15">{{tabItem.quantity}}</div>
          <div class="col col-60">{{tabItem.name}}</div>
          <div class="col col-25">${{tabItem.finalamount}}</div>
        </div>
        <ion-option-button class="button-assertive icon ion-trash-a" on-tap='bill.voidItem(tabItem)'></ion-option-button>
        <ion-option-button class="button-assertive ion-minus-circled" on-tap='bill.removeQuantity(tabItem)'></ion-option-button>
        <ion-option-button class="button-balanced ion-plus-circled" on-tap='bill.addQuantityTabItem(tabItem)'></ion-option-button>
      </ion-item>
    </ion-list>
  </ion-content>
  <ion-footer-bar class="item item-divider" style="position: fixed">
    <ion-row>
      <ion-col width-30 offset-15>Subtotal:</ion-col>
      <ion-col width-30 offset-15>
        <span id="currency-default">{{bill.subtotal | currency}}</span>
      </ion-col>
    </ion-row>
  </ion-footer-bar>
</ion-view>